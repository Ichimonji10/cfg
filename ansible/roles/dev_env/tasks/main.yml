---

- block:

  - name: Uninstall unused packages
    pacman:
      name:
        - ansible-lint
        - bandwidth
        - gobject-introspection
        - heaptrack
        - jdk8-openjdk
        - npm
        - python-poetry
        - python-rst2pdf
        - python36
        - rust
        - rust-docs
        - sbt
        - scala
        - spin
        - yamllint
      state: absent

  - name: Install development tools
    pacman:
      name:
        - ansible
        - cmark
        - ctags
        - devtools
        - docker-compose
        - entr
        - git
        - git-crypt
        - graphviz
        - ipv6calc
        - jq
        - kubectl
        - maven
        - mypy
        - namcap
        - pacman-contrib
        - postgresql-libs  # for iqe-tests
        - python-dnspython  # for ansible's dig lookup plugin
        - python-docutils  # for rst2html
        - python-passlib  # for ansible's htpasswd module
        - python-pre-commit
        - python-pylint
        - python-sphinx
        - python-wheel
        - shellcheck
        - sshpass  # optional for ansible
        - tigervnc
        - tmate
        - tmux
        - twine
        - vim
        - vim-nerdtree
        - vim-tagbar
        - wget
    notify: Set install reason for optional dependencies

  become: true
