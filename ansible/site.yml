---
# network branches & leaves ########################################################################

- hosts: network_branches
  roles:
    - networking-nm-branch
    - nftables-branch

- hosts: network_leaves
  roles:
    - networking-nm-leaf
    - nftables-leaf

# workstations & servers ###########################################################################

- hosts: workstations
  roles:
    - borg-backup-users
    - dev-env
    - workstation

- hosts: servers
  roles:
    - sshd

# Requisite package is unavailable
# - hosts: mnemosyne_hosts
#   roles:
#     - mnemosyne

- hosts: webservers
  roles:
    - borg-backup-system

# other ############################################################################################

- hosts: all
  roles:
    - crda
    - dynamic-dns
    - essential-apps
    - lm-sensors
    - locale
    - pacman-conf
    - smartd
    - time
    - ucode
    - user-ichimonji10

- hosts: apc_hosts
  roles:
    - apcupsd

- hosts: btrfs_hosts
  roles:
    - btrfs-balance
    - btrfs-scrub
    - btrfs-subvolume

- hosts: coreboot_hosts
  roles:
    - coreboot

- hosts: syncthing_hosts
  roles:
    - syncthing

# Requisite package is unavailable
# - hosts: uefi_hosts
#   roles:
#     - uefi

- hosts: vm_hosts
  roles:
    - dockerd
    - libvirtd
